# Y_V2命令集全量集成计划

## 目标
将`Drivers/BSP/Y_V2/y_v2.c/h`全部66个协议命令，分批集成到STM32_485项目主控流程、调试接口（USMART）、协议路由和文档体系，实现无缝替换和扩展。

## 步骤规划

### 1. 命令功能分区梳理
- 运动控制命令（En_Control, Vel_Control, Pos_Control, Torque, Stop, Sync等）
- 参数读写与状态查询命令
- 回零与同步命令
- 其他特殊命令（如多电机、固件类型、DMX512等）

### 2. 集成流程
- 每批次选定一个功能区块，完成声明、接口适配、主控流程集成
- 同步注册USMART调试命令，支持串口助手直接调用
- 更新协议路由（如需支持多协议共存）
- 编译并功能验证，修正冲突
- 文档和注释同步优化

### 3. 进度推进方式
- 每次处理不超过token限制的命令数量（建议每批10-15个函数）
- 每批次完成后，更新本计划文档，记录已集成命令、接口变更、验证结果
- 发现问题及时记录，优先修复再推进下一批

## 当前进度
- [ ] 运动控制命令区块集成
- [ ] 参数读写与状态查询命令集成
- [ ] 回零与同步命令集成
- [ ] 其他特殊命令集成
- [ ] USMART调试命令注册
- [ ] 编译与功能验证
- [ ] 文档与注释同步优化

## 变更记录
- 2025-12-03 创建集成计划文档，梳理分区与步骤

---
后续每批集成完成后，自动更新本文档进度与变更记录。