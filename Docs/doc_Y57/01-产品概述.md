# 01 - 产品概述

[← 返回目录](README.md) | [下一章：通信协议 →](02-通信协议.md)

---

## 1.1 产品介绍

张大头 Y系列 V2.0 步进闭环电机是一款集成式闭环步进电机控制系统，采用高性能磁编码器实现精确位置反馈，支持多种控制模式和通信接口。

### 主要应用场景

- 3D打印机、雕刻机
- 自动化设备、机械臂
- XY工作台、龙门架
- 摄影滑轨、舞台灯光
- 实验室精密仪器

---

## 1.2 产品特点

### 核心优势

✅ **闭环控制，零丢步**
- 采用高精度磁编码器实时监测电机位置
- 自动纠正偏差，确保运动精度
- 堵转保护，电流过载自动停止

✅ **多种控制模式**
- **位置模式**: 精确控制转动圈数/角度
- **速度模式**: 恒速旋转，支持加减速控制
- **脉冲模式**: 兼容传统步进驱动器使用方式

✅ **丰富通信接口**
- TTL串口（3.3V/5V逻辑电平）
- RS485工业总线（支持长距离通信）
- CAN总线（高可靠性，强抗干扰）

✅ **多机同步运动**
- 一条总线最多支持255个电机
- 同步运动命令实现多轴协同
- 独立地址设置，灵活组网

✅ **智能回零功能**
- 单圈就近回零/方向回零
- 多圈无限位碰撞回零（电流检测）
- 多圈有限位开关回零
- 支持上电自动回零

---

## 1.3 产品参数

### 电气参数

| 参数项 | 规格说明 |
|--------|----------|
| **工作电压** | DC 12V ~ 48V |
| **输入电流** | 根据电机型号不同（如X42S: 峰值3A） |
| **逻辑电平** | 3.3V / 5V 兼容 |
| **通信波特率** | 9600 / 19200 / 38400 / 57600 / **115200** bps |
| **CAN波特率** | 250K / 500K / 1M bps |

### 机械参数

| 参数项 | X42S电机 | 备注 |
|--------|----------|------|
| **步距角** | 1.8° | 200步/圈（未细分） |
| **细分精度** | 16细分 | 3200脉冲/圈 |
| **保持转矩** | 0.4 N·m | 依型号而定 |
| **最大转速** | 5000 RPM | 建议3000 RPM以下 |
| **定位精度** | ±1 脉冲 | 闭环补偿后 |

### 控制参数

| 参数项 | 范围 | 默认值 | 说明 |
|--------|------|--------|------|
| **速度** | 0 ~ 5000 RPM | - | 建议不超过3000 |
| **加速度** | 0 ~ 255 | 20 | 0=直接启动（无加减速） |
| **脉冲数** | 0 ~ 2³² - 1 | - | 最大4,294,967,295个脉冲 |
| **电机地址** | 1 ~ 255 | 1 | 0为广播地址 |

---

## 1.4 接口说明

### 电源和通信接口

```
【Y系列电机端子排布】

  ┌────────────────────────────┐
  │  +V   GND   A    B    TX   RX  │  ← 6针端子排
  └────────────────────────────┘
    │    │     │    │    │    │
    │    │     │    │    │    └── TTL RX（3.3V/5V）
    │    │     │    │    └─────── TTL TX
    │    │     │    └──────────── RS485 B-
    │    │     └───────────────── RS485 A+
    │    └─────────────────────── 电源地
    └──────────────────────────── 电源正极（12V~48V）
```

### 控制和限位接口

```
【控制端口】

  ┌─────────────────────────┐
  │  PUL  DIR  EN   ORG   GND │  ← 5针端子排
  └─────────────────────────┘
    │    │    │    │     │
    │    │    │    │     └── 信号地
    │    │    │    └──────── 原点信号/限位输入
    │    │    └───────────── 使能信号（脉冲模式）
    │    └────────────────── 方向信号（脉冲模式）
    └─────────────────────── 脉冲输入（脉冲模式）
```

### 接口功能说明

#### 通信接口

| 端口 | 功能 | 电平 | 说明 |
|------|------|------|------|
| TX | 串口发送 | 3.3V/5V | TTL电平，连接MCU的RX |
| RX | 串口接收 | 3.3V/5V | TTL电平，连接MCU的TX |
| A | RS485+ | 差分 | 连接其他电机的A端 |
| B | RS485- | 差分 | 连接其他电机的B端 |

#### 脉冲控制接口（脉冲模式下使用）

| 端口 | 功能 | 触发 | 说明 |
|------|------|------|------|
| PUL | 脉冲输入 | 上升沿 | 每个脉冲电机前进1细分步 |
| DIR | 方向输入 | 高/低电平 | 高=CW，低=CCW |
| EN | 使能输入 | 低有效 | 低电平使能电机 |

#### 限位和原点接口

| 端口 | 功能 | 触发 | 说明 |
|------|------|------|------|
| ORG | 原点/限位 | 低有效 | 可配置为原点开关或限位开关 |

---

## 1.5 LED状态指示

| LED颜色 | 状态 | 含义 |
|---------|------|------|
| **红灯** | 常亮 | 电源正常 |
| **红灯** | 闪烁 | 系统故障/通信错误 |
| **绿灯** | 常亮 | 电机使能状态 |
| **绿灯** | 闪烁 | 电机运动中 |
| **绿灯** | 熄灭 | 电机失能状态 |

---

## 1.6 按键操作

### 按键功能（根据型号可能不同）

- **短按（< 1秒）**: 手动使能/失能切换
- **长按（> 3秒）**: 进入参数设置模式
- **双击**: 恢复出厂设置（谨慎操作）

### 参数设置模式（需配合上位机）

通过按键进入设置模式后，可以修改：
- 电机地址（1~255）
- 通信波特率
- 细分设置
- 电流参数

---

## 1.7 技术规格总结

```
┌─────────────────────────────────────┐
│  Y系列V2.0 闭环步进电机控制系统      │
├─────────────────────────────────────┤
│  控制方式: 磁编码器闭环控制          │
│  编码器精度: 16384线（14bit）        │
│  控制模式: 位置/速度/脉冲            │
│  通信接口: TTL/RS485/CAN            │
│  最大速度: 5000 RPM                 │
│  细分精度: 16细分（3200脉冲/圈）     │
│  多机数量: 最多255台                │
│  保护功能: 堵转/过流/过压/欠压       │
└─────────────────────────────────────┘
```

---

## 1.8 电机安装说明

### 机械安装

- 使用M3或M4螺丝固定电机法兰
- 确保电机轴与负载同心，避免径向受力
- 联轴器安装需留有轴向间隙（0.5~1mm）

### 接线注意事项

⚠️ **重要提示**

1. **电源接线**: 确认电压范围在12V~48V之间
2. **RS485接线**: A接A，B接B，末端需接120Ω终端电阻
3. **信号地**: 务必连接GND，保证通信可靠
4. **防反接**: 接线前仔细核对极性，避免烧毁电机
5. **EMI防护**: 电源线、信号线建议使用屏蔽线

---

[← 返回目录](README.md) | [下一章：通信协议 →](02-通信协议.md)
